---
output: github_document
---

<!-- README.md is generated from README.Rmd. Please edit that file -->

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>",
  fig.path = "man/figures/README-",
  out.width = "100%"
)
```

# qcthat âœ…

<!-- badges: start -->

[![R-CMD-check](https://github.com/Gilead-BioStats/qcthat/workflows/R-CMD-check-main/badge.svg)](https://github.com/Gilead-BioStats/qcthat/actions) 
[![Codecov test coverage](https://codecov.io/gh/Gilead-BioStats/qcthat/graph/badge.svg)](https://app.codecov.io/gh/Gilead-BioStats/qcthat)

<!-- badges: end -->

`{qcthat}` is a quality control framework for R packages, particularly those used in Clinical Trials. It is being adapted from the qualification framework used in the `gsm` family of packages, such as [`{gsm.core}`](https://github.com/Gilead-BioStats/gsm.core) and [`{gsm.app}`](https://github.com/Gilead-BioStats/gsm.app).

`{qcthat}` is under active development. Here we describe what we are aiming toward, not necessarily what is currently implemented.

## Installation ğŸ“¥

You can install the development version of qcthat from [GitHub](https://github.com/) with:

``` r
# install.packages("pak")
pak::pak("Gilead-BioStats/qcthat")
```

## Business Process Overview ğŸ“„

The goal of `{qcthat}` is to provide a qualification report linking GitHub issues to evidence that those issues have been implemented.

To break this down further, the minimum required steps for {qcthat} implementation are summarized below. For each required step, additional (optional) configuration details for each core step are described in the following sections. Throughout this section ğŸ§‘â€ğŸ’¼ is used to indicate a manual task, and ğŸ’» is used to indicate automated tasks. 

1. **File Issues ğŸ§‘â€ğŸ’¼** - Program developer documents feature/programming requirements using Github Issues.
2. **Write Code ğŸ§‘â€ğŸ’¼** - Program developer updates code and associated documentation in R package. 
3. **Write Tests ğŸ§‘â€ğŸ’¼** - Quality Control Programmer writes needed tests and includes a link to the issue by including `Tests #{issue-number}` in the test description.
4. **Release Package ğŸ’»** - Upon a GitHub release, all tests are automatically run and a summary report linking issues with associated tests is created and attached to the release. 

### Roles

-   TL: Team Lead
-   PD: Program Developer
-   QCP: Quality Control Programmer
-   USR: User or Requester
-   BR: Business Requirements

### Intake

-   PD receives feature/programming request from USR.
-   PD documents feature/programming request from USR using Github Issues.
-   PD creates an issue for each Business Requirement and adds an appropriate Tag ("Requirement"). Issue name must label the issue as a business requirement (e.g.Â "Business Requirement: {description}").
-   PD creates and links separate issues or sub-issues to document technical requirements and implementation details for each business requirement. Appropriate Type is added (e.g., â€œFeatureâ€, â€œTechnical Taskâ€, â€œDocumentation Taskâ€).

### Code Development

-   PD develops or modifies program using the user requirements.
-   All stakeholders (PD, TL, QCP and USR) add comments and reactions on the issue to finalize scope as needed.
-   USR and/or TL documents approval of business requirements via comment or a "thumbs up" reaction as needed.
-   PD provides clear description of changes with every commit comment. If developer chooses to provide a message addressing a specific change, the commit comment should be a descriptive, concise, single-line summary of the change. If more context is needed, PD should add a comment to an issue in GitHub.

### Testing

-   Where applicable, QCP or PD defines an automated test for every applicable user requirement to demonstrate that the information displayed by the report/application is fit for purpose and meets the stated requirement. Testing is performed by using common frameworks {testthat} and {shinytest2} depending on the development process. Tests are linked to the corresponding business requirements.
-   Testing strategy for each requirement can be documented by updating the Business Requirement GitHub issues or by referencing the issue number in the commit message for test code. Testing is executed via automated services (such as GitHub Actions).

### Code Review

-   Upon completion of code development and testing, the PD initiates a Pull Request (PR). All relevant issues and tests are linked to the PR.
-   QCP determines appropriate level of review. Verifies the code and/or output against the user requirements and documents the method and results.
-   All questions and necessary code adjustments are addressed in the process of code review.

### QC and Acceptance:

-   Once the PD has addressed all required feedback, the TL conducts a final review of the code changes and documentation. TL verifies that all tests have passed, the website is successfully deployed (if applicable), and the release pull request (PR) correctly targets the primary branch.
-   When the qualification of the program is completed, QCP confirms and documents the result and acceptance. Final acceptance of the utility program or interactive report is documented by the TL or QCP through formal approval of the Pull Request (PR) within the SCM system. Once the request is approved, the finalized code is merged into the main code base and ready for release.

### Release:

-   Upon acceptance, the PD or QCP creates a formal release in accordance with established version control conventions. This serves as documentation and as an equivalent of program deployment into a production environment.

## Contributing ğŸ‘©â€ğŸ’»

Contributions are welcome! Creating a utility package that is generalizable and extensible to all sorts of repository structures is challenging, and your input is greatly appreciated.

Before submitting a pull request, make sure to file an [issue](https://github.com/Gilead-BioStats/qcthat/issues), which should generally fall under one of the following categories:

-   Bugfix: something is broken.
-   Feature: something is wanted or needed.
-   QC: documentation or metadata is incorrect or missing.

New code should generally follow the [tidyverse style guide](https://style.tidyverse.org/).

### Code of Conduct

Please note that the qcthat project is released with a [Contributor Code of Conduct](https://gilead-biostats.github.io/qcthat/CODE_OF_CONDUCT.html). By contributing to this project, you agree to abide by its terms.

